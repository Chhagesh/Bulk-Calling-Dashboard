{"ast":null,"code":"var _jsxFileName = \"/home/chhagesh/Desktop/Bulk-Calling-Dashboard/frontend/src/components/CallLogsPage.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { Box } from \"@mui/material\";\nimport { DataGrid, GridToolbar } from \"@mui/x-data-grid\";\nimport axios from \"axios\";\nimport { tokens } from \"../theme\";\nimport Header from \"../components/Header\";\nimport { useTheme } from \"@mui/material\";\nconst CallLogsPage = () => {\n  const theme = useTheme();\n  const colors = tokens(theme.palette.mode);\n  const [callLogs, setCallLogs] = useState([]);\n  useEffect(() => {\n    const fetchCallLogs = async () => {\n      try {\n        const response = await axios.get(\"http://127.0.0.1:8000/call_logs\");\n        setCallLogs(response.data.calls);\n      } catch (error) {\n        console.error(\"Error fetching call logs:\", error);\n      }\n    };\n    fetchCallLogs();\n    const interval = setInterval(fetchCallLogs, 5000);\n    return () => clearInterval(interval);\n  }, []);\n  const columns = [{\n    field: \"call_id\",\n    headerName: \"Call ID\",\n    flex: 1\n  }, {\n    field: \"name\",\n    headerName: \"Name\",\n    flex: 1\n  }, {\n    field: \"phone_number\",\n    headerName: \"Phone Number\",\n    flex: 1\n  }, {\n    field: \"status\",\n    headerName: \"Status\",\n    flex: 1\n  }, {\n    field: \"duration\",\n    headerName: \"Duration (sec)\",\n    flex: 1\n  }, {\n    field: \"recording_url\",\n    headerName: \"Recording\",\n    flex: 1,\n    renderCell: params => params.value && params.value !== \"No recording available\" ? /*#__PURE__*/React.createElement(\"audio\", {\n      controls: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"source\", {\n      src: params.value,\n      type: \"audio/wav\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 13\n      }\n    }), \"Your browser does not support the audio element.\") : \"No Recording\"\n  }];\n  return /*#__PURE__*/React.createElement(Box, {\n    m: \"20px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    title: \"CALL LOGS\",\n    subtitle: \"Live call logs with details\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Box, {\n    m: \"40px 0 0 0\",\n    height: \"75vh\",\n    sx: {\n      \"& .MuiDataGrid-root\": {\n        border: \"none\"\n      },\n      \"& .MuiDataGrid-cell\": {\n        borderBottom: \"none\"\n      },\n      \"& .MuiDataGrid-columnHeaders\": {\n        backgroundColor: colors.blueAccent[700],\n        borderBottom: \"none\"\n      },\n      \"& .MuiDataGrid-virtualScroller\": {\n        backgroundColor: colors.primary[400]\n      },\n      \"& .MuiDataGrid-footerContainer\": {\n        borderTop: \"none\",\n        backgroundColor: colors.blueAccent[700]\n      },\n      \"& .MuiDataGrid-toolbarContainer .MuiButton-text\": {\n        color: `${colors.grey[100]} !important`\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(DataGrid, {\n    rows: callLogs,\n    columns: columns,\n    getRowId: row => row.call_id,\n    components: {\n      Toolbar: GridToolbar\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }\n  })));\n};\nexport default CallLogsPage;","map":{"version":3,"names":["React","useState","useEffect","Box","DataGrid","GridToolbar","axios","tokens","Header","useTheme","CallLogsPage","theme","colors","palette","mode","callLogs","setCallLogs","fetchCallLogs","response","get","data","calls","error","console","interval","setInterval","clearInterval","columns","field","headerName","flex","renderCell","params","value","createElement","controls","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","src","type","m","title","subtitle","height","sx","border","borderBottom","backgroundColor","blueAccent","primary","borderTop","color","grey","rows","getRowId","row","call_id","components","Toolbar"],"sources":["/home/chhagesh/Desktop/Bulk-Calling-Dashboard/frontend/src/components/CallLogsPage.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Box } from \"@mui/material\";\nimport { DataGrid, GridToolbar } from \"@mui/x-data-grid\";\nimport axios from \"axios\";\nimport { tokens } from \"../theme\";\nimport Header from \"../components/Header\";\nimport { useTheme } from \"@mui/material\";\n\nconst CallLogsPage = () => {\n  const theme = useTheme();\n  const colors = tokens(theme.palette.mode);\n  const [callLogs, setCallLogs] = useState([]);\n\n  useEffect(() => {\n    const fetchCallLogs = async () => {\n      try {\n        const response = await axios.get(\"http://127.0.0.1:8000/call_logs\");\n        setCallLogs(response.data.calls);\n      } catch (error) {\n        console.error(\"Error fetching call logs:\", error);\n      }\n    };\n\n    fetchCallLogs();\n    const interval = setInterval(fetchCallLogs, 5000);\n    return () => clearInterval(interval);\n  }, []);\n\n  const columns = [\n    { field: \"call_id\", headerName: \"Call ID\", flex: 1 },\n    { field: \"name\", headerName: \"Name\", flex: 1 },\n    { field: \"phone_number\", headerName: \"Phone Number\", flex: 1 },\n    { field: \"status\", headerName: \"Status\", flex: 1 },\n    { field: \"duration\", headerName: \"Duration (sec)\", flex: 1 },\n    {\n      field: \"recording_url\",\n      headerName: \"Recording\",\n      flex: 1,\n      renderCell: (params) =>\n        params.value && params.value !== \"No recording available\" ? (\n          <audio controls>\n            <source src={params.value} type=\"audio/wav\" />\n            Your browser does not support the audio element.\n          </audio>\n        ) : (\n          \"No Recording\"\n        ),\n    },\n  ];\n\n  return (\n    <Box m=\"20px\">\n      <Header title=\"CALL LOGS\" subtitle=\"Live call logs with details\" />\n      <Box\n        m=\"40px 0 0 0\"\n        height=\"75vh\"\n        sx={{\n          \"& .MuiDataGrid-root\": {\n            border: \"none\",\n          },\n          \"& .MuiDataGrid-cell\": {\n            borderBottom: \"none\",\n          },\n          \"& .MuiDataGrid-columnHeaders\": {\n            backgroundColor: colors.blueAccent[700],\n            borderBottom: \"none\",\n          },\n          \"& .MuiDataGrid-virtualScroller\": {\n            backgroundColor: colors.primary[400],\n          },\n          \"& .MuiDataGrid-footerContainer\": {\n            borderTop: \"none\",\n            backgroundColor: colors.blueAccent[700],\n          },\n          \"& .MuiDataGrid-toolbarContainer .MuiButton-text\": {\n            color: `${colors.grey[100]} !important`,\n          },\n        }}\n      >\n        <DataGrid\n          rows={callLogs}\n          columns={columns}\n          getRowId={(row) => row.call_id}\n          components={{ Toolbar: GridToolbar }}\n        />\n      </Box>\n    </Box>\n  );\n};\n\nexport default CallLogsPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}